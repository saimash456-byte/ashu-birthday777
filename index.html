<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>7 Days Left - Saim's Special</title>
    <style>
        :root { --red: #d90429; --blue: #00b4d8; --pink: #ff85a1; }
        body, html { margin:0; padding:0; overflow:hidden; font-family:'Times New Roman', serif; background: #000; color: white; }
        .stage { display:none; width:100vw; height:100vh; justify-content:center; align-items:center; flex-direction:column; text-align:center; position:absolute; padding: 20px; box-sizing: border-box; }
        .active { display:flex; animation: fadeIn 0.5s forwards; }

        /* Door Animation */
        .door-container { perspective: 1000px; cursor: pointer; }
        .door { width: 140px; height: 220px; background: #5d4037; border: 4px solid #3e2723; border-radius: 5px; position: relative; transform-origin: left; transition: transform 1.2s ease-in-out; }
        .door.open { transform: rotateY(-110deg); }
        .door::after { content: 'DR. ASHU ROOM'; position: absolute; top: 25px; left: 50%; transform: translateX(-50%); background: white; color: black; padding: 2px 8px; font-size: 0.6rem; font-weight: bold; width: 85px; }
        .knob { position:absolute; right:12px; top:50%; width:12px; height:12px; background:gold; border-radius:50%; box-shadow: 0 0 10px gold; }

        /* ECG & Heart */
        .ecg-svg { width: 100%; height: 100px; stroke: var(--red); stroke-width: 3; fill: none; animation: dash 2s linear infinite; }
        @keyframes dash { from { stroke-dashoffset: 1000; } to { stroke-dashoffset: 0; } }
        .heart { font-size: 80px; animation: beat 0.6s infinite; cursor: pointer; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

        /* Pills */
        .pill-box { display: flex; gap: 15px; margin-top: 30px; }
        .pill { width: 85px; height: 45px; border-radius: 25px; cursor: pointer; border: 2px solid #fff; font-weight: bold; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .disabled { opacity: 0.3; pointer-events: none; }

        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:100; justify-content:center; align-items:center; padding:20px; box-sizing:border-box; }
        .modal-content { background:white; color:#222; padding:25px; border-radius:15px; width:100%; max-width:400px; text-align:left; max-height: 85vh; overflow-y: auto; }
        .btn { background: var(--red); color:white; border:none; padding:15px; border-radius:8px; width:100%; font-weight:bold; margin-top:15px; cursor:pointer; }
        
        .point { margin-bottom: 10px; line-height: 1.4; border-bottom: 1px solid #eee; padding-bottom: 5px; font-size: 0.95rem; font-style: italic; }
        .final-msg { font-size: 1.5rem; color: var(--red); animation: pulse 1s infinite alternate; }

        @keyframes pulse { from { transform: scale(0.9); } to { transform: scale(1.1); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="slide1" class="stage active">
        <div class="door-container" onclick="openDoor()">
            <div id="mainDoor" class="door"><div class="knob"></div></div>
        </div>
        <h3 id="doorStatus" style="margin-top:20px;">* KNOCK KNOCK *</h3>
    </div>

    <div id="slide2" class="stage">
        <h2>"Ma'am ek emergency hai!"</h2>
        <button class="btn" onclick="nextSlide(2, 3)">Kia Hua?</button>
    </div>
    <div id="slide3" class="stage">
        <h2>"Banda bhagta aaya aur ye letter de gaya... bht serious halat hai!"</h2>
        <button class="btn" onclick="nextSlide(3, 4)">Check Patient</button>
    </div>

    <div id="slide4" class="stage">
        <div class="heart" onclick="triggerHeart()">‚ù§Ô∏è</div>
        <p>Touch the heart to check pulse</p>
    </div>

    <div id="slide5" class="stage">
        <svg class="ecg-svg" viewBox="0 0 500 100" style="stroke-dasharray: 1000;">
            <path d="M0,50 L50,50 L60,20 L75,80 L90,50 L150,50 L160,10 L180,90 L200,50 L500,50" />
        </svg>
        <h3 style="padding:10px;">"Tmne dil ko touch keya tu dekho teez hogai dharkan!"</h3>
        <button class="btn" onclick="stopHeartSound()">Start Treatment</button>
    </div>

    <div id="slide6" class="stage" style="background: #f8f9fa; color: #333;">
        <h2>Dawa chunein:</h2>
        <div class="pill-box">
            <div id="p1" class="pill" style="background:var(--blue);" onclick="openPill(1)">üíä</div>
            <div id="p2" class="pill" style="background:var(--pink);" onclick="openPill(2)">üíä</div>
            <div id="p3" class="pill" style="background:var(--red);" onclick="openPill(3)">üíä</div>
        </div>
        <p id="pillStatus" style="margin-top:20px; font-size:0.8rem;">Pills taken: 0/3</p>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div id="modalBody"></div>
            <div id="diagNav" style="display:none;"><button class="btn" onclick="showDiagPage(2)">Next Page</button></div>
            <div id="pillOption" style="display:none; text-align:center;">
                <p><b>Do you want to test other pills?</b></p>
                <button class="btn" onclick="closeModal()">Yes</button>
            </div>
            <div id="moreOption" style="display:none;">
                <button class="btn" style="background:black;" onclick="nextSlide(6, 7)">Show More Options</button>
            </div>
        </div>
    </div>

    <div id="slide7" class="stage">
        <div style="font-size: 40px;">üíñüíñüíñ</div>
        <h1 class="final-msg">I love you Meri kul Kainat ‚ù§Ô∏è</h1>
        <p style="font-size: 1.2rem;">7 days left with happy birthday in advance</p>
        <h2 style="color: var(--pink);">Mera Ras Malai üçÆ</h2>
        <div style="font-size: 40px;">üíûüíûüíû</div>
        <button class="btn" style="width:auto; padding: 10px 40px;" onclick="location.reload()">Reset Case</button>
    </div>

    <audio id="heartSound" loop><source src="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3" type="audio/mpeg"></audio>
    <audio id="romanticMusic" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg"></audio>

    <script>
        let taken = new Set();
        function nextSlide(c, n) {
            document.getElementById('slide'+c).classList.remove('active');
            document.getElementById('slide'+n).classList.add('active');
        }
        function openDoor() {
            document.getElementById('mainDoor').classList.add('open');
            setTimeout(() => nextSlide(1, 2), 1500);
        }
        function triggerHeart() {
            document.getElementById('heartSound').play();
            if(navigator.vibrate) navigator.vibrate([100, 50, 100]);
            nextSlide(4, 5);
        }
        function stopHeartSound() {
            document.getElementById('heartSound').pause();
            nextSlide(5, 6);
        }

        function showDiagPage(page) {
            const b = document.getElementById('modalBody');
            const nav = document.getElementById('diagNav');
            const opt = document.getElementById('pillOption');
            const more = document.getElementById('moreOption');

            if(page === 1) {
                b.innerHTML = `<h3>Diagnosis - Page 1 üíä</h3>
                <div class="point">1. Jab se tumhein dekha hai, mujhe apna aap bhool gaya hai.</div>
                <div class="point">2. Tum mere liye sirf ek Doctor nahi, meri zindagi ki sabse haseen "Shifa" ho.</div>
                <div class="point">3. Log kehte hain dil baayi taraf hota hai, par mera dil wahan hai jahan tum ho.</div>
                <div class="point">7. Pharm-D ki degree tumhare paas hai, par meri rooh ka sara data tumhare paas hai.</div>`;
                nav.style.display = 'block'; opt.style.display = 'none';
            } else {
                b.innerHTML = `<h3>Diagnosis - Page 2 üíä</h3>
                <div class="point">8. Tumhara chehra meri wo rozana ki dose hai.</div>
                <div class="point">15. Advance Happy Birthday, Ashu Janu! Tumhari muskurahat meri jeet hai.</div>`;
                nav.style.display = 'none';
                if(taken.size === 3) more.style.display = 'block'; else opt.style.display = 'block';
            }
        }

        function openPill(n) {
            taken.add(n);
            document.getElementById('p'+n).classList.add('disabled');
            document.getElementById('pillStatus').innerText = "Pills taken: " + taken.size + "/3";
            const m = document.getElementById('modal');
            const b = document.getElementById('modalBody');
            const opt = document.getElementById('pillOption');
            const more = document.getElementById('moreOption');
            m.style.display = 'flex';
            
            if(n===1) {
                b.innerHTML = `<h3>Memory üíä</h3><p class="point">Yaad hei jb tmne FB par faisal ko kaha tha ke 'Saim jesa koi nhi ho skta'...</p><p class="point">Aur jb tmne kaha tha ke '33 saal aur baat kre gei group mei'...</p>`;
            } else if(n===2) {
                b.innerHTML = `<h3>Virtual Hug ü´Ç</h3><p>Touch bazu to feel:</p><div style="font-size:60px; text-align:center;" onclick="this.innerHTML='Close your eyes... ü´Ç'">ü´Ç</div>`;
            } else if(n===3) {
                showDiagPage(1); return;
            }

            if(taken.size === 3) { more.style.display = 'block'; opt.style.display = 'none'; }
            else { opt.style.display = 'block'; more.style.display = 'none'; }
        }

        function closeModal() { document.getElementById('modal').style.display = 'none'; }
        
        // Final Slide triggers music
        window.addEventListener('click', function() {
            if(document.getElementById('slide7').classList.contains('active')) {
                document.getElementById('romanticMusic').play();
            }
        });
    </script>
</body>
</html>
